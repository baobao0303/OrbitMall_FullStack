import { HttpClient } from '@angular/common/http';
import { DestroyRef, inject } from '@angular/core';
import { ORBITMAIL_PORTALContext } from './orbitmail_portal.context';
export class ReadableRepository {
    constructor() {
        this._context = inject(ORBITMAIL_PORTALContext);
        this.httpClient = inject(HttpClient);
        this.destroyRef = inject(DestroyRef);
        this.defaultOptions = {
            headers: {
                'Time-Zone': Intl.DateTimeFormat().resolvedOptions().timeZone,
            },
        };
    }
    mergeOptions(customOptions) {
        return { ...this.defaultOptions, ...customOptions };
    }
    findAll(endPoint, options) {
        return this.httpClient.get(endPoint, this.mergeOptions(options));
    }
    findById(endPoint, id, options) {
        return this.httpClient.get(endPoint, this.mergeOptions(options));
    }
    findInAll(endPoint, body, options) {
        return this.httpClient.post(endPoint, body, this.mergeOptions(options));
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVhZGFibGUucmVwb3NpdG9yeS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2luZnJhc3RydWN0dXJlL2Jhc2Uvc3JjL2xpYi9yZWFkYWJsZS5yZXBvc2l0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNsRCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUduRCxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUVyRSxNQUFNLE9BQU8sa0JBQWtCO0lBQS9CO1FBQ1ksYUFBUSxHQUFHLE1BQU0sQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1FBQzNDLGVBQVUsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDaEMsZUFBVSxHQUFHLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUV2QixtQkFBYyxHQUFHO1lBQ2xDLE9BQU8sRUFBRTtnQkFDUCxXQUFXLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDLGVBQWUsRUFBRSxDQUFDLFFBQVE7YUFDOUQ7U0FDRixDQUFDO0lBcUJKLENBQUM7SUFuQlMsWUFBWSxDQUFDLGFBQWtCO1FBQ3JDLE9BQU8sRUFBRSxHQUFHLElBQUksQ0FBQyxjQUFjLEVBQUUsR0FBRyxhQUFhLEVBQUUsQ0FBQztJQUN0RCxDQUFDO0lBRUQsT0FBTyxDQUFJLFFBQWdCLEVBQUUsT0FBWTtRQUN2QyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFJLFFBQVEsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDdEUsQ0FBQztJQUVELFFBQVEsQ0FDTixRQUFnQixFQUNoQixFQUFVLEVBQ1YsT0FBd0I7UUFFeEIsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBSSxRQUFRLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFFRCxTQUFTLENBQUksUUFBZ0IsRUFBRSxJQUFPLEVBQUUsT0FBWTtRQUNsRCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFJLFFBQVEsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQzdFLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEh0dHBDbGllbnQgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBEZXN0cm95UmVmLCBpbmplY3QgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IElSZWFkYWJsZVJlcG9zaXRvcnkgfSBmcm9tICdAY29yZS9iYXNlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IE9SQklUTUFJTF9QT1JUQUxDb250ZXh0IH0gZnJvbSAnLi9vcmJpdG1haWxfcG9ydGFsLmNvbnRleHQnO1xuXG5leHBvcnQgY2xhc3MgUmVhZGFibGVSZXBvc2l0b3J5IGltcGxlbWVudHMgSVJlYWRhYmxlUmVwb3NpdG9yeSB7XG4gIHByb3RlY3RlZCBfY29udGV4dCA9IGluamVjdChPUkJJVE1BSUxfUE9SVEFMQ29udGV4dCk7XG4gIHByb3RlY3RlZCBodHRwQ2xpZW50ID0gaW5qZWN0KEh0dHBDbGllbnQpO1xuICBwcm90ZWN0ZWQgZGVzdHJveVJlZiA9IGluamVjdChEZXN0cm95UmVmKTtcblxuICBwcm90ZWN0ZWQgcmVhZG9ubHkgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgaGVhZGVyczoge1xuICAgICAgJ1RpbWUtWm9uZSc6IEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZSxcbiAgICB9LFxuICB9O1xuXG4gIHByaXZhdGUgbWVyZ2VPcHRpb25zKGN1c3RvbU9wdGlvbnM/OiB7fSk6IHt9IHtcbiAgICByZXR1cm4geyAuLi50aGlzLmRlZmF1bHRPcHRpb25zLCAuLi5jdXN0b21PcHRpb25zIH07XG4gIH1cblxuICBmaW5kQWxsPFQ+KGVuZFBvaW50OiBzdHJpbmcsIG9wdGlvbnM/OiB7fSk6IE9ic2VydmFibGU8VD4ge1xuICAgIHJldHVybiB0aGlzLmh0dHBDbGllbnQuZ2V0PFQ+KGVuZFBvaW50LCB0aGlzLm1lcmdlT3B0aW9ucyhvcHRpb25zKSk7XG4gIH1cblxuICBmaW5kQnlJZDxUPihcbiAgICBlbmRQb2ludDogc3RyaW5nLFxuICAgIGlkOiBzdHJpbmcsXG4gICAgb3B0aW9ucz86IHt9IHwgdW5kZWZpbmVkXG4gICk6IE9ic2VydmFibGU8VD4ge1xuICAgIHJldHVybiB0aGlzLmh0dHBDbGllbnQuZ2V0PFQ+KGVuZFBvaW50LCB0aGlzLm1lcmdlT3B0aW9ucyhvcHRpb25zKSk7XG4gIH1cblxuICBmaW5kSW5BbGw8VD4oZW5kUG9pbnQ6IHN0cmluZywgYm9keTogVCwgb3B0aW9ucz86IHt9KTogT2JzZXJ2YWJsZTxUPiB7XG4gICAgcmV0dXJuIHRoaXMuaHR0cENsaWVudC5wb3N0PFQ+KGVuZFBvaW50LCBib2R5LCB0aGlzLm1lcmdlT3B0aW9ucyhvcHRpb25zKSk7XG4gIH1cbn1cbiJdfQ==